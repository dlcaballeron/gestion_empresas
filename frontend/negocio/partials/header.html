<!-- partials/header.html -->
<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top">
  <div class="container-fluid px-3">
    <div class="d-flex align-items-center gap-2">
      <!-- El src y alt se setean en principal.js -->
      <img
        id="negocio-logo"
        class="negocio-logo"
        alt="Logo"
        style="width:40px;height:40px;border-radius:.5rem;cursor:pointer"
        data-bs-toggle="offcanvas"
        data-bs-target="#adminPanel"
      >
      <a class="navbar-brand fw-semibold mb-0" id="negocioNombre">Marketplace</a>
    </div>

    <!-- Buscador (desktop) -->
    <form id="searchForm" class="d-none d-lg-flex" role="search" style="max-width:520px;width:100%;">
      <div class="input-group">
        <span class="input-group-text bg-white"><i class="bi bi-search"></i></span>
        <input id="q" class="form-control" type="search" placeholder="Buscar productos, servicios, categorías…" aria-label="Buscar">
      </div>
    </form>

    <div class="d-flex align-items-center gap-3">
      <!-- Botón filtros (solo mobile) -->
      <button class="btn btn-outline-secondary btn-sm d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasFilters" aria-label="Filtros">
        <i class="bi bi-sliders"></i>
      </button>

      <!-- Carrito en el header -->
      <button id="cartFab" class="btn btn-outline-primary position-relative" type="button" aria-label="Carrito">
        <i class="bi bi-cart"></i>
        <span id="cartBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger d-none">0</span>
      </button>

      <!-- Usuario / salir -->
      <div class="text-end d-none d-md-block">
        <div id="usuarioNombre" class="small text-secondary">—</div>
      </div>
      <button id="btnSalir" class="btn btn-outline-secondary btn-sm">
        <i class="bi bi-box-arrow-right me-1"></i>Salir
      </button>
    </div>
  </div>
</nav>

<!-- Offcanvas: Panel del Administrador -->
<div class="offcanvas offcanvas-start" tabindex="-1" id="adminPanel" aria-labelledby="adminPanelLabel">
  <div class="offcanvas-header">
    <div>
      <h5 class="offcanvas-title" id="adminPanelLabel">Panel del administrador</h5>
      <div class="small text-secondary" id="adminNegocioInfo">—</div>
    </div>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
  </div>

  <div class="offcanvas-body">
    <!-- Módulos (botones que abren los modales que ya tienes en principal.html) -->
    <section class="mt-3">
      <h6 class="fw-bold mb-2">Módulos</h6>
      <div class="list-group small">
        <button
          type="button"
          class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          data-bs-toggle="modal"
          data-bs-target="#galeriaModal"
          id="openGaleriaModal">
          Cargar imágenes
          <i class="bi bi-images"></i>
        </button>
        <button
          type="button"
          class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
          data-bs-toggle="modal"
          data-bs-target="#categoriasModal">
          Categorías
          <i class="bi bi-tags"></i>
        </button>
      </div>
    </section>
  </div>
</div>
